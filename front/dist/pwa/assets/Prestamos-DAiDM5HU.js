import{Q as C}from"./QSelect-RdYh5VZI.js";import{_ as F,c as g,o as u,w as i,a as o,Q as V,e as f,b as t,a6 as A,d as m,f as _,a2 as k,a1 as p,a3 as U,a4 as Y,at as D,a0 as E,t as r,Z as n,a7 as x,au as M,W as v,$ as P,h as T,az as N}from"./index-GRQbFRjP.js";import{Q as q}from"./QChip-DR0J0hUa.js";import{Q as I}from"./QBadge-BaJBGmg6.js";import{Q as w,a as c}from"./format-DVi3OWXM.js";import{Q as O,a as S}from"./QList-EjOgz4tu.js";import{Q as z}from"./QPagination-_JPADg8m.js";import{Q as B}from"./QPage-Dsg829Do.js";import{C as h}from"./ClosePopup-BAKPCFsY.js";import{h as y}from"./moment-C5S46NFB.js";import"./selection-Dljr_TAl.js";import"./QBtnGroup-mR-ykoxP.js";const L={name:"PrestamosPage",data(){return{prestamos:[],usuarios:[],estados:["Todos","Pendiente","Pagado","Cancelado","Vencido","Activo"],filters:{fecha_inicio:y().startOf("week").format("YYYY-MM-DD"),fecha_fin:y().endOf("week").format("YYYY-MM-DD"),user_id:null,estado:"Todos",search:""},page:1,perPage:12,perPageOptions:[6,12,24,36,60].map(s=>({label:String(s),value:s})),totalPages:1,totalItems:0,from:0,to:0,resumen:{prestado:0,cargos:0,saldo:0},loading:!1,metodoOptions:["Efectivo","Transferencia","Tarjeta","QR"],dlgMensualidad:{open:!1,p:null,metodo:"Efectivo",preview:null},dlgCargos:{open:!1,p:null,metodo:"Efectivo",preview:null},dlgTotal:{open:!1,p:null,metodo:"Efectivo",preview:null}}},mounted(){this.getUsuarios(),this.getPrestamos()},computed:{cargoDiarioPreview(){const s=this._dlgAny()?.p;if(!s)return 0;const Q=(Number(s.interes||0)+Number(s.almacen||0))/100/30;return+(Number(s.valor_prestado||0)*Q).toFixed(2)},diasPreview(){const s=this._dlgAny()?.p;if(!s)return 0;const e=s.fecha_creacion?y(s.fecha_creacion,"YYYY-MM-DD"):y();return Math.max(0,y().startOf("day").diff(e.startOf("day"),"days"))},cargosAcumuladosPreview(){return+(this.cargoDiarioPreview*this.diasPreview).toFixed(2)},saldoPreview(){const s=this._dlgAny()?.p;if(!s)return 0;if(s.omitir_cargos){const e=Number(s.valor_prestado||0);return Math.min(e,Number(s.saldo||0))}return Number(s.saldo||0)},montoMensualidadPreview(){return Math.min(this.saldoPreview,+(this.cargoDiarioPreview*30).toFixed(2))},montoCargosPreview(){const s=this._dlgAny()?.p;if(!s)return 0;const e=Number(s.valor_prestado||0);return Math.max(0,+(this.saldoPreview-e).toFixed(2))}},methods:{_dlgAny(){return this.dlgMensualidad.open?this.dlgMensualidad:this.dlgCargos.open?this.dlgCargos:this.dlgTotal.open?this.dlgTotal:null},openMensualidad(s){this.dlgMensualidad={open:!0,p:s,metodo:"Efectivo",preview:null}},openCargos(s){this.dlgCargos={open:!0,p:s,metodo:"Efectivo",preview:null}},openTotal(s){s.omitir_cargos=!1,this.dlgTotal={open:!0,p:s,metodo:"Efectivo",preview:null}},imprimir(s){const e=this.$axios.defaults.baseURL+`/prestamos/${s.id}/pdf`;window.open(e,"_blank")},fundirPrestamo(s){this.$q.dialog({title:"Fundir Préstamo",message:`¿Estás seguro de fundir el préstamo #${s.numero}? Esta acción no se puede deshacer.`,cancel:!0,persistent:!0}).onOk(()=>{this.loading=!0,this.$axios.post(`prestamos/${s.id}/fundir`).then(()=>{this.$q.notify({type:"positive",message:"Préstamo fundido exitosamente"}),this.getPrestamos()}).catch(e=>{this.$alert?.error?.(e.response?.data?.message||"Error al fundir préstamo")}).finally(()=>{this.loading=!1})})},imprimirCambiodeMoneda(s){const e=this.$axios.defaults.baseURL+`/prestamos/${s.id}/cambio/pdf`;window.open(e,"_blank")},async confirmMensualidad(){const s=this.dlgMensualidad.p;try{this.loading=!0,await this.$axios.post(`prestamos/${s.id}/pagar-mensualidad`,{metodo:this.dlgMensualidad.metodo}),this.$q.notify({type:"positive",message:"Mensualidad pagada"}),this.dlgMensualidad.open=!1,this.getPrestamos()}catch(e){this.$alert?.error?.(e.response?.data?.message||"Error al pagar mensualidad")}finally{this.loading=!1}},async confirmCargos(){const s=this.dlgCargos.p;try{this.loading=!0,await this.$axios.post(`prestamos/${s.id}/pagar-cargos`,{metodo:this.dlgCargos.metodo,monto:this.dlgCargos.p?.deuda_interes}),this.$q.notify({type:"positive",message:"Cargos pagados"}),this.dlgCargos.open=!1,this.getPrestamos()}catch(e){this.$alert?.error?.(e.response?.data?.message||"Error al pagar cargos")}finally{this.loading=!1}},async confirmTotal(){const s=this.dlgTotal.p;try{this.loading=!0,await this.$axios.post(`prestamos/${s.id}/pagar-todo`,{metodo:this.dlgTotal.metodo,monto:this.saldoPreview,omitir_cargos:this.dlgTotal.p.omitir_cargos||!1}),this.$q.notify({type:"positive",message:"Deuda liquidada"}),this.dlgTotal.open=!1,this.getPrestamos()}catch(e){this.$alert?.error?.(e.response?.data?.message||"Error al pagar todo")}finally{this.loading=!1}},resetAndFetch(){this.page=1,this.getPrestamos()},getUsuarios(){this.$axios.get("users").then(s=>{this.usuarios=[{id:null,name:"Todos"},...s.data]})},getPrestamos(){this.loading=!0,this.$axios.get("prestamos",{params:{...this.filters,page:this.page,per_page:this.perPage}}).then(s=>{const e=s.data;this.prestamos=e.data||e,this.totalPages=e.last_page||1,this.page=e.current_page||1,this.totalItems=e.total||(e.data?e.data.length:this.prestamos.length),this.from=e.from||(this.page-1)*this.perPage+(this.totalItems?1:0),this.to=e.to||Math.min(this.page*this.perPage,this.totalItems)}).catch(s=>{this.$alert?.error?.(s.response?.data?.message||"Error al obtener préstamos")}).finally(()=>{this.loading=!1})},fmtFecha(s){return s?y(s).format("YYYY-MM-DD"):"—"},money(s){return Number(s||0).toFixed(2)},estadoColor(s){return s.estado==="Activo"?"#21ba45":s.estado==="Cancelado"?"#e53935":this.esVencido(s)?"#f4511e":s.estado==="Entregado"?"#fb8c00":"#9e9e9e"},estadoIcon(s){return s.estado==="Activo"?"check_circle":s.estado==="Cancelado"?"block":this.esVencido(s)?"warning":s.estado==="Entregado"?"hourglass_empty":"payments"},estadoTexto(s){return this.esVencido(s)&&s.estado==="Pendiente"?"Vencido":s.estado},esVencido(s){return s.fecha_limite?y().startOf("day").isAfter(y(s.fecha_limite,"YYYY-MM-DD").startOf("day"))&&s.estado!=="Pagado"&&s.estado!=="Cancelado":!1},tasaMensual(s){return Number(s.interes||0)+Number(s.almacen||0)},tasaDiaria(s){return this.tasaMensual(s)/100/30},cargoDiario(s){return+(Number(s.valor_prestado||0)*this.tasaDiaria(s)).toFixed(2)}}},R={class:"row q-col-gutter-sm"},j={class:"col-12 col-md-3"},H={class:"col-12 col-md-3"},W={class:"col-12 col-md-6"},Z={class:"col-12 col-md-2"},G={class:"col-12 col-md-2 q-mt-sm"},J={class:"col-12 col-md-2 q-mt-sm"},K={class:"col-12 q-mt-sm"},X={class:"row q-col-gutter-sm"},$={class:"row items-center no-wrap"},ee={class:""},te={class:"text-weight-bold"},se={class:"text-caption text-grey-7"},oe={key:0},ae={key:1},le={class:"q-mt-xs"},ie={class:"row items-center"},de={class:"text-body2 ellipsis-2-lines"},re={class:"row q-mt-sm"},ne={class:"col-6"},ue={class:"text-weight-medium"},me={class:"text-caption text-red"},ce={class:"col-6"},ge={class:"text-weight-medium"},pe={class:"text-caption text-grey"},fe={class:"row q-mt-sm"},_e={class:"col-6"},ve={class:"text-weight-medium"},he={class:"col-6"},xe={class:"text-h6 text-weight-bold"},ye={class:"row items-center q-mt-sm text-caption text-grey"},be={key:0,class:"row items-center justify-between q-mt-sm"},Ce={class:"col-auto text-caption text-grey-8 q-ml-sm"},Pe={class:"col-auto"},we={class:"text-caption text-grey-7"},Ve={class:"row q-col-gutter-md q-mt-xs"},ke={class:"col-6"},Me={class:"text-body1"},qe={class:"col-6"},Te={class:"text-body1"},Qe={class:"col-6"},De={class:"text-h6"},Fe={class:"col-6"},Ae={class:"text-caption text-grey-7"},Ue={class:"row q-col-gutter-md q-mt-xs"},Ye={class:"col-6"},Ee={class:"text-body1"},Ne={class:"col-6"},Ie={class:"text-body1"},Oe={class:"col-6"},Se={class:"text-body1"},ze={class:"col-6"},Be={class:"text-h6"},Le={class:"col-12"},Re={class:"text-caption text-grey-7"},je={class:"row q-col-gutter-md q-mt-xs"},He={class:"col-2"},We={class:"text-caption"},Ze={class:"col-5"},Ge={class:"text-h6"},Je={class:"col-5"};function Ke(s,e,Q,Xe,l,d){return u(),g(B,{class:"q-pa-xs"},{default:i(()=>[o(V,{flat:"",bordered:""},{default:i(()=>[o(f,null,{default:i(()=>[t("div",R,[t("div",j,[o(C,{modelValue:l.filters.user_id,"onUpdate:modelValue":[e[0]||(e[0]=a=>l.filters.user_id=a),d.resetAndFetch],options:l.usuarios,"option-label":"name","option-value":"id","emit-value":"","map-options":"",dense:"",outlined:"",label:"Usuario"},null,8,["modelValue","options","onUpdate:modelValue"])]),t("div",H,[o(C,{modelValue:l.filters.estado,"onUpdate:modelValue":[e[1]||(e[1]=a=>l.filters.estado=a),d.resetAndFetch],options:l.estados,dense:"",outlined:"",label:"Estado"},null,8,["modelValue","options","onUpdate:modelValue"])]),t("div",W,[o(A,{modelValue:l.filters.search,"onUpdate:modelValue":[e[2]||(e[2]=a=>l.filters.search=a),d.resetAndFetch],dense:"",outlined:"",placeholder:"Buscar por Nº, nombre o CI…",debounce:400},{append:i(()=>[o(m,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),t("div",Z,[o(C,{dense:"",outlined:"",modelValue:l.perPage,"onUpdate:modelValue":[e[3]||(e[3]=a=>l.perPage=a),d.resetAndFetch],options:l.perPageOptions,label:"Por página","emit-value":"","map-options":""},null,8,["modelValue","options","onUpdate:modelValue"])]),t("div",G,[o(_,{color:"primary",label:"Actualizar",icon:"refresh",loading:l.loading,"no-caps":"",onClick:d.getPrestamos},null,8,["loading","onClick"])]),t("div",J,[o(_,{color:"green",label:"Nuevo Préstamo",icon:"add","no-caps":"",onClick:e[4]||(e[4]=a=>s.$router.push("/prestamos/crear"))})]),t("div",K,[t("div",X,[(u(!0),k(U,null,Y(l.prestamos,a=>(u(),k("div",{key:a.id,class:"col-12 col-sm-6 col-md-4"},[o(V,{bordered:"",flat:"",class:"loan-card"},{default:i(()=>[t("div",{class:"status-strip",style:D({backgroundColor:d.estadoColor(a)})},null,4),o(f,{class:"q-pb-xs"},{default:i(()=>[t("div",$,[o(E,{icon:d.estadoIcon(a),color:d.estadoColor(a),"text-color":"white",size:"32px"},null,8,["icon","color"]),t("div",ee,[t("div",te,"#"+r(a.numero),1),t("div",se,[n(r(d.fmtFecha(a.fecha_creacion))+" ",1),e[13]||(e[13]=t("br",null,null,-1)),a.fecha_limite?(u(),k("span",oe," Mes Cance: "+r(d.fmtFecha(a.fecha_limite)),1)):p("",!0),e[14]||(e[14]=n()),e[15]||(e[15]=t("br",null,null,-1)),a.fecha_limite?(u(),k("span",ae," V: "+r(d.fmtFecha(a.fecha_cancelacion)),1)):p("",!0),e[16]||(e[16]=n()),e[17]||(e[17]=t("br",null,null,-1))]),t("div",le,[o(q,{dense:"",square:"",style:D({backgroundColor:d.estadoColor(a)}),"text-color":"white"},{default:i(()=>[n(r(d.estadoTexto(a)),1)]),_:2},1032,["style"]),o(q,{dense:"",outline:"",color:"primary",class:"q-ml-xs"},{default:i(()=>[n(r(a.dias_transcurridos)+" días ",1)]),_:2},1024),o(q,{dense:"",outline:"",color:"teal",class:"q-ml-xs"},{default:i(()=>[n(r(d.tasaMensual(a))+"%/mes ",1)]),_:2},1024),o(q,{dense:"",outline:"",color:"indigo",class:"q-ml-xs"},{default:i(()=>[n(r(a.cargo_diario)+" /día ",1)]),_:2},1024)])])])]),_:2},1024),o(x,{spaced:""}),o(f,{class:"q-pt-none"},{default:i(()=>[t("div",ie,[o(m,{name:"person",size:"18px",class:"q-mr-xs"}),t("div",de,r(a.cliente?.name||"N/A"),1),t("div",null,[e[18]||(e[18]=t("span",{class:"text-bold"},"Detalle: ",-1)),n(r(a.detalle),1)])]),t("div",re,[t("div",ne,[e[19]||(e[19]=t("div",{class:"text-caption text-grey-7"},"Prestado - deuda",-1)),t("div",ue,[n(r(d.money(a.valor_prestado))+" ",1),t("span",me,r(d.money(a.total_deuda)),1)])]),t("div",ce,[e[20]||(e[20]=t("div",{class:"text-caption text-grey-7"},"Cargo mensual",-1)),t("div",ge,r(a.total_deuda*(parseFloat(a.interes||0)+parseFloat(a.almacen||0))/100|d.money),1),t("div",pe,r(a.interes)+"% + "+r(a.almacen)+"%",1)])]),t("div",fe,[t("div",_e,[e[21]||(e[21]=t("div",{class:"text-caption text-grey-7"},"Intereses",-1)),t("div",ve,r(a.deuda_interes),1)]),t("div",he,[e[23]||(e[23]=t("div",{class:"text-caption text-grey-7"},"Saldo HOY",-1)),t("div",xe,[n(r(d.money(a.saldo))+" ",1),d.esVencido(a)?(u(),g(I,{key:0,color:"negative",class:"q-ml-xs"},{default:i(()=>e[22]||(e[22]=[n("Vencido")])),_:1})):p("",!0)])])]),t("div",ye,[o(m,{name:"account_circle",size:"16px",class:"q-mr-xs"}),n(" "+r(a.user?.name||"—")+" "+r(a.detalle),1)])]),_:2},1024),o(x),o(M,{align:"between",class:"q-pa-sm"},{default:i(()=>[a.estado=="Activo"?(u(),g(_,{key:0,dense:"",flat:"",icon:"edit",label:"Editar",onClick:b=>s.$router.push("/prestamos/editar/"+a.id),"no-caps":""},null,8,["onClick"])):p("",!0),o(O,{dense:"","no-caps":"",color:"primary",label:"Más"},{default:i(()=>[o(S,null,{default:i(()=>[a.dias_transcurridos>=30?v((u(),g(w,{key:0,clickable:"",onClick:b=>d.openMensualidad(a)},{default:i(()=>[o(c,{avatar:""},{default:i(()=>[o(m,{name:"payment"})]),_:1}),o(c,null,{default:i(()=>e[24]||(e[24]=[n("Pagar mensualidad")])),_:1})]),_:2},1032,["onClick"])),[[P],[h]]):p("",!0),a.dias_transcurridos>0?v((u(),g(w,{key:1,clickable:"",onClick:b=>d.openCargos(a)},{default:i(()=>[o(c,{avatar:""},{default:i(()=>[o(m,{name:"attach_money"})]),_:1}),o(c,null,{default:i(()=>e[25]||(e[25]=[n("Pagar cargos")])),_:1})]),_:2},1032,["onClick"])),[[P],[h]]):p("",!0),a.estado!=="Fundido"?v((u(),g(w,{key:2,clickable:"",onClick:b=>d.openTotal(a)},{default:i(()=>[o(c,{avatar:""},{default:i(()=>[o(m,{name:"money_off"})]),_:1}),o(c,null,{default:i(()=>e[26]||(e[26]=[n("Pagar todo")])),_:1})]),_:2},1032,["onClick"])),[[P],[h]]):p("",!0),v((u(),g(w,{clickable:"",onClick:b=>d.imprimir(a)},{default:i(()=>[o(c,{avatar:""},{default:i(()=>[o(m,{name:"print"})]),_:1}),o(c,null,{default:i(()=>e[27]||(e[27]=[n("Imprimir Contrato")])),_:1})]),_:2},1032,["onClick"])),[[P],[h]]),v((u(),g(w,{clickable:"",onClick:b=>d.imprimirCambiodeMoneda(a)},{default:i(()=>[o(c,{avatar:""},{default:i(()=>[o(m,{name:"picture_as_pdf"})]),_:1}),o(c,null,{default:i(()=>e[28]||(e[28]=[n("Imprimir Cambio de Moneda")])),_:1})]),_:2},1032,["onClick"])),[[P],[h]]),a.estado!=="Fundido"?v((u(),g(w,{key:3,clickable:"",onClick:b=>d.fundirPrestamo(a)},{default:i(()=>[o(c,{avatar:""},{default:i(()=>[o(m,{name:"merge_type"})]),_:1}),o(c,null,{default:i(()=>e[29]||(e[29]=[n("Fundir Préstamo")])),_:1})]),_:2},1032,["onClick"])),[[P],[h]]):p("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),l.totalPages>1?(u(),k("div",be,[t("div",Ce," Mostrando "+r(l.from)+"–"+r(l.to)+" de "+r(l.totalItems),1),t("div",Pe,[o(z,{modelValue:l.page,"onUpdate:modelValue":[e[5]||(e[5]=a=>l.page=a),d.getPrestamos],max:l.totalPages,"max-pages":6,"boundary-numbers":"",color:"primary",disable:l.loading},null,8,["modelValue","max","disable","onUpdate:modelValue"])])])):p("",!0)])])]),_:1})]),_:1}),o(T,{modelValue:l.dlgMensualidad.open,"onUpdate:modelValue":e[7]||(e[7]=a=>l.dlgMensualidad.open=a),persistent:""},{default:i(()=>[o(V,{style:{"min-width":"420px"}},{default:i(()=>[o(f,{class:"row items-center q-gutter-sm"},{default:i(()=>[o(m,{name:"payment",size:"28px",color:"primary"}),e[30]||(e[30]=t("div",{class:"text-h6"},"Pagar mensualidad (30 días)",-1))]),_:1}),o(x),o(f,null,{default:i(()=>[t("div",we,"Préstamo #"+r(l.dlgMensualidad.p?.numero),1),t("div",Ve,[t("div",ke,[e[31]||(e[31]=t("div",{class:"text-caption"},"Cargo diario",-1)),t("div",Me,r(d.money(d.cargoDiarioPreview)),1)]),t("div",qe,[e[32]||(e[32]=t("div",{class:"text-caption"},"Saldo actual",-1)),t("div",Te,r(d.money(d.saldoPreview)),1)]),t("div",Qe,[e[33]||(e[33]=t("div",{class:"text-caption"},"Monto a pagar (30 días)",-1)),t("div",De,r(l.dlgMensualidad.p?.total_deuda*(parseFloat(l.dlgMensualidad.p?.interes||0)+parseFloat(l.dlgMensualidad.p?.almacen||0))/100|d.money),1)]),t("div",Fe,[o(C,{dense:"",outlined:"",modelValue:l.dlgMensualidad.metodo,"onUpdate:modelValue":e[6]||(e[6]=a=>l.dlgMensualidad.metodo=a),options:l.metodoOptions,label:"Método de pago"},null,8,["modelValue","options"])]),e[34]||(e[34]=t("div",{class:"col-12 text-grey-7 text-caption"},[n(" * Al confirmar, la "),t("b",null,"fecha límite"),n(" se moverá "),t("b",null,"+1 mes"),n(". ")],-1))])]),_:1}),o(x),o(M,{align:"right"},{default:i(()=>[v(o(_,{flat:"",label:"Cancelar"},null,512),[[h]]),o(_,{color:"primary",loading:l.loading,label:"Confirmar",onClick:d.confirmMensualidad},null,8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:l.dlgCargos.open,"onUpdate:modelValue":e[9]||(e[9]=a=>l.dlgCargos.open=a),persistent:""},{default:i(()=>[o(V,{style:{"min-width":"420px"}},{default:i(()=>[o(f,{class:"row items-center q-gutter-sm"},{default:i(()=>[o(m,{name:"attach_money",size:"28px",color:"teal"}),e[35]||(e[35]=t("div",{class:"text-h6"},"Pagar cargos acumulados",-1))]),_:1}),o(x),o(f,null,{default:i(()=>[t("div",Ae,"Préstamo #"+r(l.dlgCargos.p?.numero),1),t("div",Ue,[t("div",Ye,[e[36]||(e[36]=t("div",{class:"text-caption"},"Días transcurridos",-1)),t("div",Ee,r(l.dlgCargos.p?.dias_transcurridos),1)]),t("div",Ne,[e[37]||(e[37]=t("div",{class:"text-caption"},"Cargos acumulados",-1)),t("div",Ie,r(d.money(l.dlgCargos.p?.deuda_interes)),1)]),t("div",Oe,[e[38]||(e[38]=t("div",{class:"text-caption"},"Saldo actual",-1)),t("div",Se,r(d.money(d.saldoPreview)),1)]),t("div",ze,[e[39]||(e[39]=t("div",{class:"text-caption"},"Monto a pagar (sólo cargos)",-1)),t("div",Be,r(d.money(l.dlgCargos.p?.deuda_interes)),1)]),t("div",Le,[o(C,{dense:"",outlined:"",modelValue:l.dlgCargos.metodo,"onUpdate:modelValue":e[8]||(e[8]=a=>l.dlgCargos.metodo=a),options:l.metodoOptions,label:"Método de pago"},null,8,["modelValue","options"])]),e[40]||(e[40]=t("div",{class:"col-12 text-grey-7 text-caption"},[n(" * Al confirmar, la "),t("b",null,"fecha límite"),n(" se ajustará a "),t("b",null,"hoy"),n(". ")],-1))])]),_:1}),o(x),o(M,{align:"right"},{default:i(()=>[v(o(_,{flat:"",label:"Cancelar"},null,512),[[h]]),o(_,{color:"teal",loading:l.loading,label:"Confirmar",onClick:d.confirmCargos},null,8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:l.dlgTotal.open,"onUpdate:modelValue":e[12]||(e[12]=a=>l.dlgTotal.open=a),persistent:""},{default:i(()=>[o(V,{style:{"min-width":"420px"}},{default:i(()=>[o(f,{class:"row items-center q-gutter-sm"},{default:i(()=>[o(m,{name:"money_off",size:"28px",color:"negative"}),e[41]||(e[41]=t("div",{class:"text-h6"},"Pagar TODO",-1))]),_:1}),o(x),o(f,null,{default:i(()=>[t("div",Re,"Préstamo #"+r(l.dlgTotal.p?.numero),1),t("div",je,[t("div",He,[t("div",We,[l.dlgTotal.p?.dias_transcurridos<7?(u(),g(N,{key:0,modelValue:l.dlgTotal.p.omitir_cargos,"onUpdate:modelValue":e[10]||(e[10]=a=>l.dlgTotal.p.omitir_cargos=a),label:"Incluir cargos","left-label":"",dense:""},null,8,["modelValue"])):p("",!0)])]),t("div",Ze,[e[42]||(e[42]=t("div",{class:"text-caption"},"Saldo total a liquidar",-1)),t("div",Ge,r(d.money(d.saldoPreview)),1)]),t("div",Je,[o(C,{dense:"",outlined:"",modelValue:l.dlgTotal.metodo,"onUpdate:modelValue":e[11]||(e[11]=a=>l.dlgTotal.metodo=a),options:l.metodoOptions,label:"Método de pago"},null,8,["modelValue","options"])]),e[43]||(e[43]=t("div",{class:"col-12 text-grey-7 text-caption"},[n(" * El préstamo quedará en estado "),t("b",null,"Pagado"),n(". ")],-1))])]),_:1}),o(x),o(M,{align:"right"},{default:i(()=>[v(o(_,{flat:"",label:"Cancelar"},null,512),[[h]]),o(_,{color:"negative",loading:l.loading,label:"Confirmar",onClick:d.confirmTotal},null,8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const mt=F(L,[["render",Ke],["__scopeId","data-v-8c8f916f"]]);export{mt as default};
